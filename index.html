<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Paisagens Aleatórias</title>

  <style>
    :root {
      --bg: #020617;
      --glass: rgba(15, 23, 42, 0.72);
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.18);
      --text: #e2e8f0;
      --muted: #94a3b8;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      width: 100%;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      align-items: stretch;
      justify-content: center;
      overflow: hidden;
    }

    .bg-image,
    .bg-image-next {
      position: fixed;
      inset: 0;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: brightness(0.85);
      transition: opacity 1s ease;
      will-change: opacity;
    }

    .bg-image {
      opacity: 1;
      z-index: -2;
    }

    .bg-image-next {
      opacity: 0;
      z-index: -3;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(15,23,42,0.4), transparent 45%),
                  linear-gradient(to bottom, rgba(15,23,42,0.7), rgba(15,23,42,0.95));
      z-index: -1;
    }

    main {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .card {
      width: 100%;
      max-width: 680px;
      border-radius: 1.5rem;
      padding: 2rem 1.75rem;
      background: radial-gradient(circle at top left, rgba(148,163,184,0.15), transparent 55%),
                  radial-gradient(circle at bottom, rgba(15,118,110,0.22), transparent 60%),
                  var(--glass);
      border: 1px solid rgba(148,163,184,0.3);
      box-shadow:
        0 24px 80px rgba(15,23,42,0.9),
        0 0 0 1px rgba(15,23,42,0.8);
      backdrop-filter: blur(18px);
    }

    @media (min-width: 640px) {
      .card {
        padding: 2.5rem 3rem;
      }
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      background: rgba(15,23,42,0.75);
      border: 1px solid rgba(148,163,184,0.5);
      font-size: 0.75rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 1.5rem;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 14px rgba(56,189,248,0.9);
    }

    h1 {
      font-size: clamp(1.9rem, 3vw + 1rem, 2.6rem);
      line-height: 1.1;
      margin-bottom: 0.9rem;
      letter-spacing: -0.03em;
    }

    h1 span {
      background: linear-gradient(120deg, #38bdf8, #22c55e);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .subtitle {
      font-size: 0.98rem;
      line-height: 1.6;
      color: var(--muted);
      max-width: 34rem;
      margin-bottom: 1.8rem;
    }

    .info-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .info-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.4rem 0.7rem;
      border-radius: 999px;
      background: rgba(15,23,42,0.8);
      border: 1px solid rgba(148,163,184,0.4);
    }

    .info-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }

    .info-interval {
      border-color: rgba(56,189,248,0.5);
      background: var(--accent-soft);
      color: #e0f2fe;
    }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      align-items: center;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 0.75rem 1.4rem;
      font-size: 0.95rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 500;
      transition: transform 0.14s ease, box-shadow 0.14s ease, background 0.14s ease, opacity 0.14s ease;
      outline: none;
      white-space: nowrap;
    }

    .btn-primary {
      background: radial-gradient(circle at top left, #38bdf8, #0ea5e9);
      color: #0b1220;
      box-shadow:
        0 14px 38px rgba(8,47,73,0.9),
        0 0 0 1px rgba(8, 47, 73,0.4);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow:
        0 18px 60px rgba(8,47,73,1),
        0 0 0 1px rgba(8, 47, 73,0.6);
      filter: brightness(1.03);
    }

    .btn-primary:active {
      transform: translateY(0);
      box-shadow:
        0 8px 24px rgba(8,47,73,0.9),
        0 0 0 1px rgba(8, 47, 73,0.6);
    }

    .btn-ghost {
      background: rgba(15,23,42,0.8);
      color: var(--muted);
      border-radius: 999px;
      padding: 0.7rem 1.1rem;
      border: 1px solid rgba(148,163,184,0.5);
    }

    .btn-ghost:hover {
      background: rgba(15,23,42,0.92);
      color: #e5e7eb;
      transform: translateY(-1px);
    }

    .btn-icon {
      font-size: 1rem;
    }

    .status {
      font-size: 0.78rem;
      color: var(--muted);
      margin-top: 0.4rem;
      min-height: 1.2rem;
      display: flex;
      align-items: center;
      gap: 0.45rem;
    }

    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 10px rgba(56,189,248,0.9);
    }

    .status-error {
      color: #fecaca;
    }

    .status-error-dot {
      background: #f97373;
      box-shadow: 0 0 10px rgba(248,113,113,0.9);
    }

    @media (max-width: 480px) {
      .card {
        padding: 1.6rem 1.4rem;
        border-radius: 1.2rem;
      }
      .badge {
        margin-bottom: 1.2rem;
      }
      .actions {
        flex-direction: column;
        align-items: stretch;
      }
      .btn {
        justify-content: center;
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <!-- Imagens de fundo -->
  <div class="bg-image" id="bg-current"></div>
  <div class="bg-image-next" id="bg-next"></div>
  <div class="overlay"></div>

  <main>
    <section class="card">
      <div class="badge">
        <span class="badge-dot"></span>
        <span>Paisagens aleatórias • via Unsplash</span>
      </div>

      <h1>
        Deixe uma <span>nova paisagem</span> te encontrar a cada minuto.
      </h1>

      <p class="subtitle">
        Este site troca o papel de parede em tempo real com fotos de paisagens do mundo todo.
        Relaxe, respire fundo e deixe a tela se transformar sozinha — ou clique para pular direto
        para a próxima vista.
      </p>

      <div class="info-row">
        <div class="info-pill info-interval">
          <span class="info-dot"></span>
          <span>Auto-troca a cada 1 minuto</span>
        </div>
        <div class="info-pill">
          <span class="info-dot"></span>
          <span>Imagens em alta resolução</span>
        </div>
        <div class="info-pill">
          <span class="info-dot"></span>
          <span>Carregamento suave com fade</span>
        </div>
      </div>

      <div class="actions">
        <button class="btn btn-primary" id="btn-next">
          <span class="btn-icon">⟳</span>
          <span>Próxima paisagem agora</span>
        </button>
        <button class="btn btn-ghost" id="btn-pause">
          <span class="btn-icon">⏸</span>
          <span>Pause automático</span>
        </button>
      </div>

      <div class="status" id="status">
        <span class="status-dot" id="status-dot"></span>
        <span id="status-text">Carregando primeira paisagem...</span>
      </div>
    </section>
  </main>

  <script>
    (function () {
      const currentBg = document.getElementById("bg-current");
      const nextBg = document.getElementById("bg-next");
      const statusText = document.getElementById("status-text");
      const statusDot = document.getElementById("status-dot");
      const btnNext = document.getElementById("btn-next");
      const btnPause = document.getElementById("btn-pause");

      const INTERVAL_MS = 60_000; // 1 minuto
      const UNSPLASH_URL = "https://source.unsplash.com/random/1600x900/?landscape";

      let intervalId = null;
      let isPaused = false;
      let isFirstImage = true;

      function setStatus(message, isError = false) {
        statusText.textContent = message;

        if (isError) {
          statusText.classList.add("status-error");
          statusDot.classList.add("status-error-dot");
        } else {
          statusText.classList.remove("status-error");
          statusDot.classList.remove("status-error-dot");
        }
      }

      function buildImageUrl() {
        // sig evita cache do navegador
        return `${UNSPLASH_URL}&sig=${Date.now()}`;
      }

      function swapBackgrounds(newUrl) {
        nextBg.style.backgroundImage = `url("${newUrl}")`;
        nextBg.style.opacity = "1";

        // Depois do fade, troca as camadas
        setTimeout(() => {
          currentBg.style.backgroundImage = `url("${newUrl}")`;
          nextBg.style.opacity = "0";
        }, 1000);
      }

      function loadNewLandscape(isAuto = false) {
        const img = new Image();
        const url = buildImageUrl();

        if (isAuto) {
          setStatus("Trocando paisagem automaticamente...");
        } else {
          setStatus("Carregando nova paisagem...");
        }

        img.onload = function () {
          swapBackgrounds(url);
          if (isFirstImage) {
            setStatus("Paisagem carregada. A próxima troca acontece em 1 minuto.");
            isFirstImage = false;
          } else if (isAuto) {
            setStatus("Paisagem atualizada automaticamente.");
          } else {
            setStatus("Paisagem atualizada.");
          }
        };

        img.onerror = function () {
          setStatus("Não foi possível carregar a imagem agora. Tentando novamente em instantes.", true);
        };

        img.src = url;
      }

      function startInterval() {
        if (intervalId !== null) return;
        intervalId = setInterval(() => loadNewLandscape(true), INTERVAL_MS);
      }

      function clearIntervalIfNeeded() {
        if (intervalId !== null) {
          clearInterval(intervalId);
          intervalId = null;
        }
      }

      function togglePause() {
        isPaused = !isPaused;

        if (isPaused) {
          clearIntervalIfNeeded();
          btnPause.innerHTML = '<span class="btn-icon">▶</span><span>Retomar automático</span>';
          setStatus("Trocas automáticas pausadas. Você pode mudar manualmente.");
        } else {
          startInterval();
          btnPause.innerHTML = '<span class="btn-icon">⏸</span><span>Pause automático</span>';
          setStatus("Trocas automáticas reativadas. Próxima em até 1 minuto.");
        }
      }

      btnNext.addEventListener("click", () => {
        loadNewLandscape(false);
      });

      btnPause.addEventListener("click", togglePause);

      // Inicia
      loadNewLandscape(false);
      startInterval();
    })();
  </script>
</body>
</html>
