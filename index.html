<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Devocional ‚Ä¢ Vers√≠culos ACF</title>

  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  >

  <style>
    :root {
      --glass-bg: rgba(15, 23, 42, 0.65);
      --glass-border: rgba(148, 163, 184, 0.45);
      --text-main: #e5e7eb;
      --text-muted: #cbd5f5;
      --accent: #facc15;
      --accent-soft: rgba(250, 204, 21, 0.16);
      --success: #22c55e;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      background: radial-gradient(circle at top, #0b1220 0, #020617 55%, #000 100%);
      overflow: hidden;
    }

    /* Fundo com paisagem */
    .bg-image {
      position: fixed;
      inset: 0;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: brightness(0.9);
      z-index: -2;
      transition: background-image 0.7s ease-out, filter 0.4s ease-out;
    }

    .bg-overlay {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at top, rgba(15, 23, 42, 0.15) 0, rgba(15, 23, 42, 0.6) 55%, rgba(2, 6, 23, 0.85) 100%),
        linear-gradient(to bottom right, rgba(15, 23, 42, 0.35), rgba(15, 23, 42, 0.75));
      z-index: -1;
    }

    .app {
      max-width: 980px;
      width: 100%;
    }

    .card {
      background: var(--glass-bg);
      border-radius: 1.8rem;
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(18px);
      box-shadow:
        0 24px 40px rgba(15, 23, 42, 0.7),
        0 0 0 1px rgba(15, 23, 42, 0.4);
      padding: 24px 20px 20px;
    }

    @media (min-width: 768px) {
      .card {
        padding: 30px 32px 24px;
      }
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 22px;
      flex-wrap: wrap;
    }

    .title-area {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
    }

    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--success);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.9);
    }

    .title {
      font-size: clamp(1.5rem, 3vw, 1.9rem);
      font-weight: 600;
      letter-spacing: -0.03em;
    }

    .title span.brand {
      background: linear-gradient(135deg, #facc15, #22d3ee);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .subtitle {
      font-size: 0.86rem;
      color: var(--text-muted);
      max-width: 440px;
    }

    .timer-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.65);
      font-size: 0.76rem;
      color: var(--text-muted);
      white-space: nowrap;
    }

    .timer-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: var(--accent-soft);
      border: 1px solid var(--accent);
      box-shadow: 0 0 12px rgba(250, 204, 21, 0.9);
      position: relative;
    }

    .timer-dot::after {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: inherit;
      border: 1px solid rgba(250, 204, 21, 0.35);
    }

    .layout {
      display: grid;
      gap: 20px;
    }

    @media (min-width: 780px) {
      .layout {
        grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.2fr);
        align-items: stretch;
      }
    }

    .verse-card {
      position: relative;
      border-radius: 1.5rem;
      border: 1px solid rgba(148, 163, 184, 0.5);
      padding: 18px 18px 16px;
      background:
        radial-gradient(circle at top left, rgba(248, 250, 252, 0.12), transparent 60%),
        rgba(15, 23, 42, 0.9);
      overflow: hidden;
    }

    .verse-card::before {
      content: "‚Äú";
      position: absolute;
      font-size: 7rem;
      line-height: 1;
      top: -40px;
      left: 14px;
      opacity: 0.08;
    }

    .verse-ref {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.7);
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .version-tag {
      font-size: 0.68rem;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .verse-text {
      font-size: clamp(1.1rem, 2.2vw, 1.4rem);
      line-height: 1.8;
      margin-bottom: 16px;
      font-weight: 400;
    }

    .verse-helper {
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .controls-card {
      border-radius: 1.4rem;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: linear-gradient(
        145deg,
        rgba(15, 23, 42, 0.9),
        rgba(15, 23, 42, 0.82)
      );
      padding: 16px 16px 14px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 14px;
    }

    .progress-title {
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .progress-sub {
      font-size: 0.76rem;
      color: var(--text-muted);
    }

    .progress-bar-wrapper {
      margin-top: 10px;
      width: 100%;
      height: 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.6);
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      width: 0%;
      border-radius: inherit;
      background: linear-gradient(90deg, #facc15, #22d3ee);
      transition: width 0.3s linear;
    }

    .progress-footer {
      margin-top: 6px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--text-muted);
      gap: 6px;
      flex-wrap: wrap;
    }

    .stat-pill {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.95);
      font-size: 0.74rem;
    }

    .primary-button {
      margin-top: 8px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 10px 0;
      width: 100%;
      border-radius: 999px;
      border: none;
      font-size: 0.9rem;
      font-weight: 500;
      background: radial-gradient(circle at 0% 0%, #facc15, #f97316);
      color: #111827;
      cursor: pointer;
      box-shadow:
        0 12px 30px rgba(249, 115, 22, 0.55),
        0 0 0 1px rgba(248, 250, 252, 0.06);
      transition:
        transform 0.12s ease-out,
        box-shadow 0.12s ease-out,
        filter 0.12s ease-out;
    }

    .primary-button span.chevron {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, 0.3);
      font-size: 0.8rem;
    }

    .primary-button:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow:
        0 18px 38px rgba(249, 115, 22, 0.7),
        0 0 0 1px rgba(248, 250, 252, 0.08);
    }

    .primary-button:active {
      transform: translateY(0);
      box-shadow:
        0 10px 24px rgba(249, 115, 22, 0.45),
        0 0 0 1px rgba(248, 250, 252, 0.05);
    }

    .footer {
      margin-top: 14px;
      font-size: 0.7rem;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .chip {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      font-size: 0.7rem;
      color: var(--text-muted);
      background: rgba(15, 23, 42, 0.9);
    }

    /* Anima√ß√£o suave */
    .fade-enter {
      opacity: 0;
      transform: translateY(6px);
    }
    .fade-enter-active {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.22s ease-out, transform 0.22s ease-out;
    }
  </style>

</head>

<body>

  <!-- Fundo com paisagem carregada por API -->
  <div class="bg-image" id="bgImage"></div>
  <div class="bg-overlay"></div>

  <main class="app">
    <section class="card">
      <header class="header">
        <div class="title-area">
          <div class="badge">
            <span class="badge-dot"></span>
            <span>Devocional ‚Ä¢ Versos ACF</span>
          </div>
          <h1 class="title">
            Versos em
            <span class="brand">foco</span>
          </h1>
          <p class="subtitle">
            Um vers√≠culo por vez, sobre uma paisagem tranquila,
            para voc√™ respirar, meditar e conversar com Deus.
          </p>
        </div>

        <div class="timer-pill">
          <div class="timer-dot"></div>
          <span>
            Pr√≥xima troca em <strong id="countdown">60s</strong>
          </span>
        </div>
      </header>

      <section class="layout">
        <article class="verse-card">
          <div class="verse-ref" id="verseRef">
            <span>Preparando o primeiro vers√≠culo‚Ä¶</span>
            <span class="version-tag">ACF</span>
          </div>

          <p class="verse-text" id="verseText">
            Carregando devocional de hoje‚Ä¶
          </p>

          <p class="verse-helper">
            Quando o vers√≠culo aparecer, respire fundo, leia sem pressa
            e use a paisagem ao fundo como cen√°rio para a sua ora√ß√£o.
          </p>
        </article>

        <aside class="controls-card">
          <div>
            <p class="progress-title">Sess√£o de leitura</p>
            <p class="progress-sub">
              Vers√≠culos exibidos hoje:
              <strong id="currentIndexLabel">0</strong>
            </p>

            <div class="progress-bar-wrapper">
              <div class="progress-bar" id="progressBar"></div>
            </div>

            <div class="progress-footer">
              <span>Pr√≥xima troca em <strong id="countdownInline">60s</strong></span>
              <div style="display: flex; gap: 6px; flex-wrap: wrap;">
                <span class="stat-pill">
                  <span id="readCount">0</span> lidos
                </span>
                <span class="stat-pill" id="loopIndicator">
                  Come√ßando agora ‚ú®
                </span>
              </div>
            </div>
          </div>

          <button class="primary-button" id="nextButton" type="button">
            <span>Pr√≥ximo vers√≠culo</span>
            <span class="chevron">‚ûú</span>
          </button>
        </aside>
      </section>

      <footer class="footer">
        <div class="chips">
          <span class="chip">Versos ACF locais</span>
          <span class="chip">Paisagem aleat√≥ria</span>
          <span class="chip">Auto a cada 1 min</span>
        </div>
        <span>Use sua B√≠blia ACF para ler o contexto completo de cada verso.</span>
      </footer>
    </section>
  </main>

  <script>
    // =========================
    // CONFIGURA√á√ïES
    // =========================
    var INTERVAL_MS = 60000; // 1 minuto

    // Paisagens: picsum.photos (placeholder com blur)
    var LANDSCAPE_URL_BASE = "https://picsum.photos/1600/900?blur=1&random=";

    // Versos ACF locais (texto completo no pr√≥prio front)
    var VERSES = [
      {
        reference: "Salmos 23:1 (ACF)",
        text: "O Senhor √© o meu pastor; nada me faltar√°."
      },
      {
        reference: "Filipenses 4:6 (ACF)",
        text: "N√£o andeis ansiosos por coisa alguma; em tudo, por√©m, sejam conhecidas diante de Deus as vossas peti√ß√µes, pela ora√ß√£o e s√∫plica, com a√ß√µes de gra√ßas."
      },
      {
        reference: "Romanos 8:28 (ACF)",
        text: "E sabemos que todas as coisas contribuem juntamente para o bem daqueles que amam a Deus, daqueles que s√£o chamados por seu decreto."
      },
      {
        reference: "Isa√≠as 41:10 (ACF)",
        text: "N√£o temas, porque eu sou contigo; n√£o te assombres, porque eu sou o teu Deus; eu te fortale√ßo, e te ajudo, e te sustento com a destra da minha justi√ßa."
      },
      {
        reference: "Jo√£o 3:16 (ACF)",
        text: "Porque Deus amou o mundo de tal maneira que deu o seu Filho unig√™nito, para que todo aquele que nele cr√™ n√£o pere√ßa, mas tenha a vida eterna."
      },
      {
        reference: "Mateus 11:28 (ACF)",
        text: "Vinde a mim, todos os que estais cansados e oprimidos, e eu vos aliviarei."
      },
      {
        reference: "Josu√© 1:9 (ACF)",
        text: "N√£o to mandei eu? Esfor√ßa-te, e tem bom √¢nimo; n√£o temas, nem te espantes; porque o Senhor, teu Deus, √© contigo, por onde quer que andares."
      },
      {
        reference: "Prov√©rbios 3:5 (ACF)",
        text: "Confia no Senhor de todo o teu cora√ß√£o e n√£o te estribes no teu pr√≥prio entendimento."
      },
      {
        reference: "Romanos 12:12 (ACF)",
        text: "Alegrai-vos na esperan√ßa, sede pacientes na tribula√ß√£o, perseverai na ora√ß√£o."
      },
      {
        reference: "Salmos 46:1 (ACF)",
        text: "Deus √© o nosso ref√∫gio e fortaleza, socorro bem presente na ang√∫stia."
      },
      {
        reference: "Salmos 121:1-2 (ACF)",
        text: "Levantarei os meus olhos para os montes, de onde vem o meu socorro. O meu socorro vem do Senhor, que fez o c√©u e a terra."
      },
      {
        reference: "2 Cor√≠ntios 12:9 (ACF)",
        text: "A minha gra√ßa te basta, porque o meu poder se aperfei√ßoa na fraqueza."
      }
    ];

    // Estado
    var remainingMs = INTERVAL_MS;
    var timerId = null;
    var readCount = 0;
    var isLoadingVerse = false;

    // Elementos
    var verseRefEl = document.getElementById("verseRef");
    var verseTextEl = document.getElementById("verseText");
    var countdownEl = document.getElementById("countdown");
    var countdownInlineEl = document.getElementById("countdownInline");
    var progressBarEl = document.getElementById("progressBar");
    var currentIndexLabelEl = document.getElementById("currentIndexLabel");
    var readCountEl = document.getElementById("readCount");
    var loopIndicatorEl = document.getElementById("loopIndicator");
    var nextButton = document.getElementById("nextButton");
    var bgImageEl = document.getElementById("bgImage");

    // =========================
    // FUN√á√ïES AUXILIARES
    // =========================
    function formatSeconds(ms) {
      var sec = Math.ceil(ms / 1000);
      return sec + "s";
    }

    function updateCountdown() {
      var value = formatSeconds(remainingMs);
      countdownEl.textContent = value;
      countdownInlineEl.textContent = value;
      var percentage = 100 - (remainingMs / INTERVAL_MS) * 100;
      progressBarEl.style.width = percentage + "%";
    }

    function setFadeAnimation() {
      verseTextEl.classList.remove("fade-enter", "fade-enter-active");
      void verseTextEl.offsetWidth; // for√ßa reflow
      verseTextEl.classList.add("fade-enter");
      requestAnimationFrame(function () {
        verseTextEl.classList.add("fade-enter-active");
      });
    }

    function refreshBackground() {
      var url = LANDSCAPE_URL_BASE + Date.now();
      var img = new Image();
      img.onload = function () {
        bgImageEl.style.backgroundImage = 'url("' + url + '")';
      };
      img.onerror = function () {
        console.warn("Falha ao carregar imagem de fundo");
      };
      img.src = url;
    }

    function getRandomVerse() {
      var index = Math.floor(Math.random() * VERSES.length);
      return VERSES[index];
    }

    function loadAndShowNewVerse() {
      if (isLoadingVerse) return;
      isLoadingVerse = true;

      verseRefEl.innerHTML = '\
        <span>Carregando vers√≠culo‚Ä¶</span>\
        <span class="version-tag">ACF</span>\
      ';
      verseTextEl.textContent = "Buscando vers√≠culo para hoje‚Ä¶";

      try {
        var verse = getRandomVerse();

        verseRefEl.innerHTML = '\
          <span>' + verse.reference + '</span>\
          <span class="version-tag">ACF</span>\
        ';
        verseTextEl.textContent = verse.text;

        readCount++;
        readCountEl.textContent = String(readCount);
        currentIndexLabelEl.textContent = String(readCount);

        if (readCount === 1) {
          loopIndicatorEl.textContent = "Primeiro passo do dia üôå";
        } else if (readCount >= 5 && readCount < 15) {
          loopIndicatorEl.textContent = "Ritmo bom de medita√ß√£o üíõ";
        } else if (readCount >= 15) {
          loopIndicatorEl.textContent = "Sess√£o profunda de leitura üî•";
        }

        setFadeAnimation();
        refreshBackground();
      } catch (err) {
        console.error(err);
        verseRefEl.innerHTML = '\
          <span>Erro ao carregar</span>\
          <span class="version-tag">ACF</span>\
        ';
        verseTextEl.textContent =
          "N√£o foi poss√≠vel carregar o vers√≠culo agora. Tente novamente em alguns instantes.";
      } finally {
        isLoadingVerse = false;
      }
    }

    function startTimer() {
      if (timerId) {
        clearInterval(timerId);
      }
      remainingMs = INTERVAL_MS;
      updateCountdown();

      timerId = setInterval(function () {
        remainingMs -= 1000;
        if (remainingMs <= 0) {
          remainingMs = INTERVAL_MS;
          updateCountdown();
          loadAndShowNewVerse();
        } else {
          updateCountdown();
        }
      }, 1000);
    }

    function resetTimer() {
      remainingMs = INTERVAL_MS;
      updateCountdown();
    }

    // =========================
    // INICIALIZA√á√ÉO
    // =========================
    (function init() {
      refreshBackground();
      loadAndShowNewVerse();
      startTimer();
    })();

    nextButton.addEventListener("click", function () {
      resetTimer();
      loadAndShowNewVerse();
    });
  </script>
</body>

</html>
